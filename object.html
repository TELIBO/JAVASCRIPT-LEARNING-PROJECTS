<!DOCTYPE html>
<html>
<head>
    <title>RockPaperScissor</title>
</head>
<body>
    <p>rock papers scissors</p>
    <button onclick="playGame('rock')">rock</button>
    <button onclick="playGame('paper')">paper</button>
    <button onclick="playGame('scissor')">scissor</button>
    <button onclick="score.wins=0;
    score.loss=0;
    score.ties=0;
    localStorage.removeItem('score')">Reset</button>
    <script>
         let score=JSON.parse(localStorage.getItem('score'));
         if(!score){
            score={
                wins:0,
                loss:0,
                ties:0     
            };
         }
        function playGame(pmove){
            const quantity=Math.random();
            let move='';
            if(quantity>=0 && quantity<1/3){
                move='rock';
            } else if(quantity>=1/3 && quantity<2/3) {
                move='scissor';
            } else if(quantity>=2/3 && quantity<1) {
                move='paper';
            }
            console.log(`move=${move}`);
            let result='';
            if(pmove === 'rock') {
                if(move === pmove) {
                    result='tie';
                } else if(move === 'paper') {
                    result='you lose';
                } else if(move === 'scissor') {
                    result='you win';
                }
            } else if(pmove === 'paper') {
                if(move === pmove) {
                    result='tie';
                } else if(move === 'scissor') {
                    result='you lose';
                } else if(move === 'rock') {
                    result='you win';
                }
            } else if(pmove === 'scissor') {
                if(move === pmove) {
                    result='tie';
                } else if(move === 'rock') {
                    result='you lose';
                } else if(move === 'paper') {
                    result='you win';
                }
            }
            if(result==='you win'){
                score.wins++;
            }
            else if(result==='you lose'){
                score.loss++;
            }
            else if(result==='tie'){
                score.ties++;
            }
            localStorage.setItem('score',JSON.stringify(score));
            alert(`the computer has chosen ${move}. ${result}\nwin:${score.wins},lose:${score.loss},ties:${score.ties}`);
        }
    </script>
</body>
</html>
